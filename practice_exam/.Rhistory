library(tidyverse)
library(modelr)
library(stringr)
library(caret)
set.seed(0)
data("mtcars")
car_names = rownames(mtcars)
mtcars_df = as.tibble(mtcars)
mtcars_df$name = car_names
librarians_df = read_csv('practice_data/librarians-by-msa.csv')
librarians_df = read_csv('practice_data/librarians-by-msa.csv')
head(librarians_df)
librarians_df = read_csv('practice_data/librarians-by-msa.csv', na = '**')
head(librarians_df)
csvals = preProcess(librarians_df, method = c('center', 'scale'))
librarians_standardized = predict(csvals, librarians_df)
csvals = preProcess(librarians_df, method = c('center', 'scale'))
librarians_standardized = predict(csvals, librarians_df)
head(librarians_standardized)
hclust_sol = librarians_df %>%
select(tot_emp, emp_prse, jobs_1000, loc_quotient) %>%
na.omit() %>%
preProcess(method=c("center", "scale")) %>%
predict(librarians_df) %>%
na.omit() %>%
dist() %>%
hclust(method="ward")
plot(hclust_sol)
hclust_sol
hclust_sol$labels
o = cutree(hclust_sol, k=2)
o = cutree(hclust_sol, k=2)
o
librarians_df
o = cutree(hclust_sol, k=2)
librarians_df %>%
na.omit() %>%
mutate(cluster=o) %>%
ggplot(aes(tot_emp, emp_prse)) +
geom_point()
o = cutree(hclust_sol, k=2)
librarians_df %>%
na.omit() %>%
mutate(cluster=o) %>%
ggplot(aes(tot_emp, emp_prse)) +
geom_point(aes(color=cluster))
